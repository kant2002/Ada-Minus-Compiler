.H 2 "Running a DAS program"
.P
Referring again to fig 3.,the
.B program
indication is a reminder of the DAS program you are working with.
The meaning and usage of "use" will be explained in section 1.7.
.P
On the second line of the screen the words
.B state
fetched are displayed.
The state will indicate the status of your DAS program.
Initially the state will always be "fetched",
thereby indicating that the program may be executed.
.br
The other states the DAS program can be in are explained in the
next section.
.H 3 "Events, exceptions and states"
.P
Before the commands are explained that will start or continue the execution
of a DAS program some terms that are used in the following text
will be explained.
.sp 2
.B events
.br
The symbolic debugger is able to detect five possible events during the
execution of the program :
.AL
.LI
the entry of a subprogram body
.LI
the exit of a subprogram body
.LI
the start of the elaboration of a package body
.LI
the end of the elaboration of a package body
.LI
the execution of a statement
.LE
.sp 2
.B Exceptions
.br
Besides the events mentioned above the debugger is able to detect
the raising of an exception in the DAS program.
The symbolic debugger is not able to detect the name of the exception.
The exception raised may be a user defined or a predefined exception.
.P
Unless explicitly indicated the debugger will not report
the execution of an event or the raising of an exception.
How to indicate what you want to see is explained in section
1.7, Setting trace and break points.
.sp 2
.B states
.br
after the word
.B state
in the status region (see figure 4) the state of the DAS program is displayed.
During a debugging session the DAS program can be in the following states :
.AL
.LI
.B fetched
.br
This state is the initial state
when the DAS program has not been executed yet.
It indicates that the DAS program is ready to be executed.
.LI
.B running
.br
in this state the DAS program is executing and it will be in control
of your terminal.
If the program is (re)started the output region will be cleared.
.LI
.B terminated
.br
the DAS program has normally finished its execution and the debugger
is back in control.
.LI
.B break
.br
the break status will only occur when you have indicated that you want
to get back in control when a certain event or exception is
executed by the DAS program ( see 1.7, Setting trace and break points).
.LI
.B aborted
.br
if the state shows the program is aborted the DAS program probably has
raised an exception for which no exception handler was provided.
This state will also be raised in those cases that the Unix operating system
would normally produce a core dump.
.LI
.B interrupted
.br
you can interrupt an executing DAS program (state is running) by typing
^C (control c).
.LI
.B killed
.br
the DAS program can be killed by using the
.B kill
command in run mode.
The kill command has only
effect if the state of the program is 'break' or 'interrupted.
.LE
.sp
Figure 5 shows the state transitions.
The names enclosed between quotes are commands given by the user.
The name EXECUTE means one of the following four user commands: 'run', 'step', 'after' or 'cont' (see the next section for their meaning).
The other names are the events and exceptions which cause a change of state.
The start state is the state 'fetched'.
.DS
.sp 30
.FG "state transitions"
.DE
.P
Not only do the states indicate the present state  of the DAS program but they
also determine the commands that are usefull to give.
The print mode contains commands that examine the DAS program and they are
always available, but in some states of the program they are not very usefull
(see also 1.8 Examining the DAS program).
To give some examples:
.AL
.LI
in state 'fetched' the DAS program has not been executing yet so it is not very
usefull to investigate for instance the active subprogram and package bodies.
.LI
in the states 'terminated' and 'aborted' there will be no active subprogram
and/or package bodies but it is possible to look at the history of the
DAS program.
.LI
in the states 'break', 'interrupted' and 'killed' the active subprogram and
package bodies and the history of the program can be listed.
.LE
.H 3 "The run, step and after commands"
.P
The 'run', 'step' and 'after' commands can be used in main mode and in run mode,
but only when the state of the DAS program is any of those mentioned in 1.6.1 .
If the state of your program is fetched, terminated, aborted or killed
the program is (re)started, in all other states the program is continued.
When main mode is the current mode these commands also change the 
current mode to run mode.
.P
The 'run', 'step' and 'after' commands all change the state of the program to 'running'.
When the state indicates 'running'
the DAS program is executing and has taken over control.
.sp 2
.B run
.br
If you use the 'run' command without having set any trace or break points (see 1.7)
the program will execute until termination.
The only way to interrupt the program before it terminates
is ^C (control c) which will interrupt the DAS program at the next
event or exception.
.sp 2
.B step
.br
this command implicitly executes the das program until
an event occurs or an exception is raised
by the program.
The event or exception will be reported in the output region,
the state will be changed to break and the debugger will prompt for a new
command.
.sp 2
.B after
.br
the after command needs a non-negative number x to be entered after the prompt
.B
enter number.
.R
When a correct number has been entered the program is (re)started or continued
and will be running until x events have been executed.
The state of the program will change to break and the last executed event is
displayed in the output region.
.P
While executing x events two things can happen :
.AL
.LI
if an exception is raised the exception is reported in the output region
, the state will be changed to break and the debugger will prompt for a
command.
.LI
when the program terminates before x events have been executed the state
is changed to terminated and the debugger prompts for a command.
.LE
.sp
The 'step' and 'after' command both display the last executed event or exception.
.DS
EXAMPLE 1 :


	PROCEDURE a IS

		PROCEDURE b IS

			PROCEDURE c IS
			BEGIN
				-- statements of c;
			END c;

		BEGIN
			-- statements of b;
		END b;

	BEGIN
		-- statements of a;
	END a;


.DE
.sp
Suppose you are running the program in example 1 and the event is
a call of procedure 'c'.
The output region would then display
.sp
.in +15
call of subprogram a.b.c
.in -15
.sp
On exit of procedure c the message
.sp
.in +15
exit of subprogram a.b.c
.in -15
.sp
would be displayed.
.sp
If 'c' had been a package body the following would have been displayed resp.
on the start and ending of the package body elaboration:
.in +15
elaborating package a.b.c
.in -15
and
.in +15
elaborated package a.b.c
.in -15
.sp 2
After the execution of a statement in procedure c the output region shows
.sp
a.b.c : 10
.br
  -- source line of unit A containing executed statement
.sp
where the number after the name a.b.c is the line number in the source file of unit A containing
the executed statement.
.sp
The raising of an exception within procedure 'c' would be reported as 
.in +15
exception raised in a.b.c
.br
handler invoked in <name handler routine>
.in -15
.sp
The notation used to name a particular subprogram or package is the
selected component notation.
This notation will be used whenever we refer to a specific subprogram or
package (see also 1.7).
.H 3 "The cont command"
.P
The
.B cont
command is only possible in run mode and is very similar to the 'step' command.
This command also executes only one event or the raising of an exception, but if the event is
the execution of a statement it will show the context of the statement.
The output region displays the source line containing the executed statement
in bold characters.
Source lines that textually preceed and follow the executed statement are
displayed respectively before and after the line in bold.
.P
Every time the symbolic debugger gets back in control (indicating so
by the prompt
.B
enter command
.R
)
the status region displays (besides already explained
information)
.B in
followed by a name in selected component notation.
The name is the name of the subprogram or package the DAS program was executing
at the moment the debugger got back in control.
.sp 2
.in +5
.DS 0 1
\f2mode\f1   main         \f2program\f1 a            \f2use\f1 a
                    \f2state\f1   break        \f2in\f1  a.b.c
.br
.B
enter command
.R
.br
Commands: A(fter B(reak C(at D(elete E(xit H(elp L(ist
.br
          M(enu R(un S(tep T(race W(ith ^d
.sp
call of subprogram a.b.c
.sp 10
.FG "run screen"
.DE
.in -5
.sp 2
.P
Suppose we are running the DAS program in example 1 and the program is stopped
while executing the statements of procedure 'c'.
The status region will then display (see figure 5)
.B in
a.b.c .

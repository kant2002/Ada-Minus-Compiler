/*
 * Name:		comp_ranges
 *
 * Abstract:		Check the values of range source
 *			to be within values of range target
 *
 * Description:	
 *
 * Externals:	
 *
 * Calls:	
 *
 * Macros:	
 *
 */

bool	comp_ranges (source, target)
ac	source,
	target;
{
	ac	r;

	ASSERT (target != NULL, ("comp_ranges has NULL target"));
	ASSERT (source != NULL, ("comp_ranges has NULL source"));
/*	fprintf (stderr, "comp_ranges, %X %X %d %d (line %d)\n",
	         source,
	         target,
	         g_d (source),
	         g_d (target),
	         g_lineno (source));
 */

	if (is_basetype (target))
	   return TRUE;

	if (is_subtypeof (source, target))
	   return TRUE;

	target = basefilter (target);

	if (g_d (target) == XINTERNAL)
	   return TRUE;

	ASSERT (g_d (target) == XFILTER, ("comp_ranges:1"));

	r = g_constraint (target);

	if (is_static (source) && is_static (target))
	   return
	      is_inrange (loval (source), r) &&
	      is_inrange (hival (source), r) ;

	return FALSE;

}
